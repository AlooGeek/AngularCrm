<div class="row">
  <!-- ============================================================== -->
  <!-- basic table  -->
  <!-- ============================================================== -->
  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
      <div class="card">
          <h5 class="card-header">Store List</h5>
          <div class="card-body">
              <div class="table-responsive">
                  <table class="table table-striped table-bordered first">
                      <thead>
                          <tr>
                              <th>Name</th>
                              <th>Ville</th>
                              <th>Email</th>
                              <th>Address</th>
                              <th>Phone-Number</th>
                              <th>Update</th>
                              <th>Delete</th>
                             
                          </tr>
                      </thead>
                      <tbody *ngFor="let s of listStores">

                          <tr> 
                                 <td>{{s.name}}</td>
                                 <td>{{s.ville}}</td> 
                                 <td>{{s.email}} </td> 
                                 <td>{{s.address}}</td> 
                                 <td>{{s.phoneNumber}}</td> 
                                 <td><button class="btn btn-brand"   (click)="open(content,s)">Update</button></td>
                                 <td><button class="btn btn-danger" (click)="delete(s.id)">Delete</button></td>
                                 

                          </tr>
                          
                      </tbody>
                      <tfoot>
                          <tr>
                            <th>Name</th>
                            <th>Ville</th>
                            <th>Email</th>
                            <th>Address</th>
                            <th>Phone-Number</th>
                            <th>Update</th>
                            <th>Delete</th>
                          
                          </tr>
                      </tfoot>
                  </table>
              </div>
          </div>
      </div>
  </div>
  <!-- ============================================================== -->
  <!-- end basic table  -->
  <!-- ============================================================== -->
</div>


<div class="row">
  <div class="col-xl-12">
      <!-- ============================================================== -->
      <!-- pageheader  -->
      <!-- ============================================================== -->
      <div class="row">
          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
              <div class="page-header" id="top">
                  <h2 class="pageheader-title">Add </h2>
                  
                  <div class="page-breadcrumb">
                      <nav aria-label="breadcrumb">
                          <ol class="breadcrumb">
                              <li class="breadcrumb-item"><a href="#" class="breadcrumb-link">Dashboard</a></li>
                              <li class="breadcrumb-item"><a href="#" class="breadcrumb-link">Store-Manage</a></li>
                          </ol>
                      </nav>
                  </div>
              </div>
          </div>
      </div>
      <!-- ============================================================== -->
      <!-- end pageheader  -->
      <!-- ============================================================== -->
   
      <!-- ============================================================== -->
      <!-- basic form  -->
      <!-- ============================================================== -->
      <div class="row">
      <div class=" col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12" >
          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
              <div class="section-block" id="basicform">
                  <h3 class="section-title">Add Store</h3>
                 
              </div>
              <div class="card">
                 <div class="card-header d-flex">
                      <h4 class="card-header-title">Store</h4>
                 
                  </div>
                  <div class="card-body">
                      <form [formGroup]="StoreForm">

                           <div class="form-group">
                              <label for="inputText3" class="col-form-label" >Store Name</label>
                              <input type="text" class="form-control" id="inputText3" formControlName="name" >
                              <div *ngIf="sform.name.touched && sform.name.invalid">
                                      <div *ngIf="sform.name.errors.required" class="alert alert-danger">
                                       <i class="fas fa-minus-circle"></i> Store Name Is Required!
                                      </div>
                                      </div>
                           </div>

                           <div class="form-group">
                            <label for="inputEmail">City</label>
                            <!---->
                            <div  class="form-group" >

                           <select class="form-control" formControlName="ville">   
                           <option value="Ariana"> Ariana</option>
                            <option value="Béja"> Béja</option>
                              <option value="Ben Arous"> Ben Arous</option>
                                <option value="Bizerte"> Bizerte</option>
                                  <option value="Gabes"> Gabes</option>
                                    <option value="Gafsa"> Gafsa</option>
                                      <option value="Jendouba"> Jendouba</option>
                                        <option value="Kairouan"> Kairouan</option>
                                          <option value="Kasserine"> Kasserine</option>
                                            <option value="Kebili"> Kebili</option>
                                              <option value="La Manouba"> La Manouba</option>
                                                <option value="Le Kef"> Le Kef</option>
                                                  <option value="Mahdia"> Mahdia</option>
                                                    <option value="Médenine"> Médenine</option>
                                                      <option value="Monastir"> Monastir</option>
                                                        <option value="Nabeul"> Nabeul</option>
                                                          <option value="Sfax"> Sfax</option>
                                                            <option value="Sidi Bouzid"> Sidi Bouzid</option>
                                                              <option value="Siliana"> Siliana</option>
                                                                <option value="Sousse"> Sousse</option>
                                                                  <option value="Tataouine"> Tataouine</option>
                                                                    <option value="Tozeur"> Tozeur</option>
                                                                      <option value="Tunis"> Tunis</option>
                                                                        <option value="Zaghouan"> Zaghouan</option>
                           
                                                     

                           </select>
                         
                            <div *ngIf="sform.ville.touched && sform.ville.invalid">
                              <div *ngIf="sform.ville.errors.required" class="alert alert-danger">
                               <i class="fas fa-minus-circle"></i> Please choose a City !
                              </div>
                              </div>
                  </div>
          </div>

                     
                           <div class="form-group">
                              <label for="inputText3" class="col-form-label" >Address</label>
                              <input type="text" class="form-control" id="inputText3" formControlName="address" >
                              <div *ngIf="sform.address.touched && sform.address.invalid">
                                      <div *ngIf="sform.address.errors.required" class="alert alert-danger">
                                       <i class="fas fa-minus-circle"></i> Address Is Required!
                                      </div>
                                      </div>
                           </div>

                           <div class="form-group">
                            <label for="inputText3" class="col-form-label" >Email</label>
                            <input type="text" class="form-control" id="inputText3" formControlName="email" >
                            <div *ngIf="sform.email.touched && sform.email.invalid">
                                    <div *ngIf="sform.email.errors.required" class="alert alert-danger">
                                     <i class="fas fa-minus-circle"></i> Email Is Required!
                                    
                                    </div>
                                    <div *ngIf="sform.email.errors.pattern" class="alert alert-danger">
                                      <i class="fas fa-minus-circle"></i>Invalid E-mail!
                                    </div>
                                    </div>
                         </div>
                         <div class="form-group">
                          <label for="inputText3" class="col-form-label" >Phone number</label>
                          <input type="text" class="form-control" id="inputText3" formControlName="phnbr" >
                          <div *ngIf="sform.phnbr.touched && sform.phnbr.invalid">
                                  <div *ngIf="sform.phnbr.errors.required" class="alert alert-danger">
                                   <i class="fas fa-minus-circle"></i> Phone number Is Required!

                                 
                                  </div>
                                    <div *ngIf="sform.phnbr.errors.maxlength||sform.phnbr.errors.minlength" class="alert alert-danger">
                                    <i class="fas fa-minus-circle"></i> Phone must have 8 numbers!
                                    </div>
                                
                                  </div>
                       </div>

                          <button class="btn btn-primary" (click)="addStore()" [disabled]="StoreForm.invalid" >Save</button>
                         
                      </form>
                  </div>
                  
              </div>
          </div>
      </div>
      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12" id="#list">
              <div class="section-block" id="basicform">
                      <h3 class="section-title">List Store</h3>
                     
                  </div>
          <div class="card">
                  <div class="table-responsive">
                          <table class="table table-striped table-bordered first">
                              <thead>
                                  <tr>
                                      <th>Name</th>
                                      <th>Location</th>
                                      
                                  </tr>
                              </thead>
                              <tbody *ngFor="let s of listStores">
  
                                  <tr> 
                                         <td>{{s.name}}</td>
                                         <td>loc</td>
                                         
                                  </tr>
                                  
                              </tbody>
                              <tfoot>
                                  <tr>
                                    <th>Name</th>
                                      <th>Location</th>
                                  </tr>
                              </tfoot>
                          </table>
                      </div>
              
           
          
      </div>
      </div>

      <!-- ============================================================== -->
      <!-- end basic form  -->
      <!-- ============================================================== -->
      <!-- ============================================================== -->
     
  </div>
  <!-- ============================================================== -->
  <!-- sidenavbar -->
  <!-- ============================================================== -->

  <!-- ============================================================== -->
  <!-- end sidenavbar -->
  <!-- ============================================================== -->
</div>

</div>

<h1> {{texto}}</h1>

<agm-map [latitude]="lat" [zoom]="zoom" [longitude]="lng">
  <agm-marker  [latitude]="lat" [longitude]="lng"></agm-marker>
</agm-map>

<!--Update FORM-->


<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Store update</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">  
      
      <form [formGroup]="StoreUpdateForm">

        <div class="form-group">
          <label for="inputText3" class="col-form-label" >Store Name</label>
          <input type="text" class="form-control" id="inputText3" formControlName="name" value="{{storeUpdate.name}}" >
          <div *ngIf="suform.name.touched && suform.name.invalid">
                  <div *ngIf="suform.name.errors.required" class="alert alert-danger">
                   <i class="fas fa-minus-circle"></i> Store Name Is Required!
                  </div>
                  </div>
       </div>

       <div class="form-group">
        <label for="inputEmail">City</label>
        <!---->
        <div  class="form-group" >

       <select class="form-control" formControlName="ville">   
         <option value="{{storeUpdate.ville}}" [selected]="true"> {{storeUpdate.ville}} </option>
       <option value="Ariana"> Ariana</option>
        <option value="Béja"> Béja</option>
          <option value="Ben Arous"> Ben Arous</option>
            <option value="Bizerte"> Bizerte</option>
              <option value="Gabes"> Gabes</option>
                <option value="Gafsa"> Gafsa</option>
                  <option value="Jendouba"> Jendouba</option>
                    <option value="Kairouan"> Kairouan</option>
                      <option value="Kasserine"> Kasserine</option>
                        <option value="Kebili"> Kebili</option>
                          <option value="La Manouba"> La Manouba</option>
                            <option value="Le Kef"> Le Kef</option>
                              <option value="Mahdia"> Mahdia</option>
                                <option value="Médenine"> Médenine</option>
                                  <option value="Monastir"> Monastir</option>
                                    <option value="Nabeul"> Nabeul</option>
                                      <option value="Sfax"> Sfax</option>
                                        <option value="Sidi Bouzid"> Sidi Bouzid</option>
                                          <option value="Siliana"> Siliana</option>
                                            <option value="Sousse"> Sousse</option>
                                              <option value="Tataouine"> Tataouine</option>
                                                <option value="Tozeur"> Tozeur</option>
                                                  <option value="Tunis"> Tunis</option>
                                                    <option value="Zaghouan"> Zaghouan</option>
       
                                 

       </select>
     
        <div *ngIf="suform.ville.touched && suform.ville.invalid">
          <div *ngIf="suform.ville.errors.required" class="alert alert-danger">
           <i class="fas fa-minus-circle"></i> Please choose a City !
          </div>
          </div>
</div>
</div>

 
       <div class="form-group">
          <label for="inputText3" class="col-form-label" >Address</label>
          <input type="text" class="form-control" id="inputText3" formControlName="address" value="{{storeUpdate.address}}">
          <div *ngIf="suform.address.touched && suform.address.invalid">
                  <div *ngIf="suform.address.errors.required" class="alert alert-danger">
                   <i class="fas fa-minus-circle"></i> Address Is Required!
                  </div>
                  </div>
       </div>

       <div class="form-group">
        <label for="inputText3" class="col-form-label" >Email</label>
        <input type="text" class="form-control" id="inputText3" formControlName="email" value="{{storeUpdate.email}}" >
        <div *ngIf="suform.email.touched && suform.email.invalid">
                <div *ngIf="suform.email.errors.required" class="alert alert-danger">
                 <i class="fas fa-minus-circle"></i> Email Is Required!
                
                </div>
                <div *ngIf="suform.email.errors.pattern" class="alert alert-danger">
                  <i class="fas fa-minus-circle"></i>Invalid E-mail!
                </div>
                </div>
     </div>
     <div class="form-group">
      <label for="inputText3" class="col-form-label" >Phone number</label>
      <input type="text" class="form-control" id="inputText3" formControlName="phnbr" value="{{storeUpdate.phoneNumber}}" >
      <div *ngIf="suform.phnbr.touched && suform.phnbr.invalid">
              <div *ngIf="suform.phnbr.errors.required" class="alert alert-danger">
               <i class="fas fa-minus-circle"></i> Phone number Is Required!

             
              </div>
                <div *ngIf="suform.phnbr.errors.maxlength||suform.phnbr.errors.minlength" class="alert alert-danger">
                <i class="fas fa-minus-circle"></i> Phone must have 8 numbers!
                </div>
            
              </div>
   </div>       
                        <div class="modal-footer">
                        <button class="btn btn-outline-dark" (click)="updateStore()" >Validate</button>
                      </div>
                    </form>
                  </div>
                 
                   
               
              </ng-template>
  
             